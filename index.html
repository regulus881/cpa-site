<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Games WAM | Catalog</title>
    <meta name="description" content="Browse the latest items in a clean, fast catalog layout.">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-GN1K1JFT39"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-GN1K1JFT39');
    </script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        :root{
            --bg:#0f0f17;
            --surface:#13131f;
            --surface-2:#171727;
            --surface-3:#1b1b2d;
            --text:#e5e7eb;
            --muted:#a3a7b2;
            --border:#23233a;
            --accent-1:#7c3aed;
            --accent-2:#ec4899;
            --accent:#a855f7;
            --badge:#f59e0b;
            --radius:14px;
            --ring:rgba(124,58,237,.28);
        }

        *{margin:0;padding:0;box-sizing:border-box}
        html,body{height:100%}
        body{
            font-family:-apple-system,BlinkMacSystemFont,"Inter","SF Pro Display","SF Pro Text",sans-serif;
            background:var(--bg);
            color:var(--text);
            -webkit-font-smoothing:antialiased;
            -moz-osx-font-smoothing:grayscale;
            line-height:1.5;
        }

        /* Top bar */
        .topbar{
            background:
                linear-gradient(180deg, rgba(124,58,237,0.12), transparent 60%),
                linear-gradient(180deg, rgba(236,72,153,0.06), transparent 70%);
            border-bottom:1px solid var(--border);
        }
        .container{
            max-width:1200px;
            margin:0 auto;
            padding:0 16px;
        }
        .nav{
            height:64px;
            display:flex;
            align-items:center;
            justify-content:space-between;
            gap:12px;
        }
        .brand{
            display:flex;
            align-items:center;
            gap:10px;
            text-decoration:none;
            color:var(--text);
            font-weight:800;
            letter-spacing:-0.02em;
        }
        .brand-mark{
            width:34px;height:34px;border-radius:8px;
            background:linear-gradient(135deg,var(--accent-1),var(--accent-2));
            display:flex;align-items:center;justify-content:center;
            font-weight:900;color:#fff;font-size:14px;
            box-shadow:0 0 0 1px rgba(255,255,255,.06) inset;
        }

        /* Search */
        .search{
            flex:1;
            display:flex;
            align-items:center;
            gap:8px;
            max-width:560px;
            margin:0 12px 0 16px;
        }
        .search-input{
            flex:1;
            background:var(--surface-2);
            border:1px solid var(--border);
            height:44px;
            border-radius:12px;
            padding:0 14px;
            color:var(--text);
            outline:none;
            transition:border-color .2s ease, box-shadow .2s ease;
        }
        .search-input::placeholder{color:#8b8ea1}
        .search-input:focus{
            border-color:#3b82f6;
            box-shadow:0 0 0 3px rgba(59,130,246,.15);
        }
        .search-btn{
            height:44px;
            padding:0 14px;
            border:none;cursor:pointer;
            border-radius:12px;
            color:#fff;
            background:linear-gradient(135deg,var(--accent-1),var(--accent-2));
            font-weight:700;
            letter-spacing:.01em;
            box-shadow:0 8px 24px rgba(124,58,237,.25);
        }

        /* Hero slider (top images area) */
        .hero{
            background:var(--surface);
            border-bottom:1px solid var(--border);
        }
        .hero-wrap{
            padding:14px 0 18px;
        }
        .slider{
            position:relative;
            overflow:hidden;
            border-radius:16px;
            border:1px solid var(--border);
            background:var(--surface-2);
            isolation:isolate;
        }
        .slider::before{
            content:"";
            position:absolute;inset:-2px;
            background:conic-gradient(from 180deg at 50% 50%, rgba(124,58,237,.35), rgba(236,72,153,.35), rgba(124,58,237,.35));
            filter:blur(18px);
            z-index:-1;opacity:.35;
            animation:spin 12s linear infinite;
        }
        @keyframes spin { to { transform: rotate(360deg) } }

        .slides{
            display:flex;
            will-change:transform;
            transition:transform 420ms cubic-bezier(.22,.61,.36,1);
            touch-action:pan-y;
        }
        .slide{
            min-width:100%;
            aspect-ratio:21/9;
            background:
                radial-gradient(120% 120% at 0% 0%, rgba(236,72,153,.14) 0%, transparent 50%),
                radial-gradient(120% 120% at 100% 0%, rgba(124,58,237,.18) 0%, transparent 52%),
                linear-gradient(135deg, #171727, #1b1b2d);
            position:relative;
            overflow:hidden;
        }
        .slide[data-bg]{background-size:cover;background-position:center}
        .slide::after{
            content:"";
            position:absolute;inset:0;
            background:linear-gradient(to top, rgba(0,0,0,.45), rgba(0,0,0,0) 60%);
        }

        .slider-nav{
            position:absolute;inset:0;
            display:flex;align-items:center;justify-content:space-between;
            padding:0 6px;
            pointer-events:none;
        }
        .nav-btn{
            pointer-events:auto;
            width:36px;height:36px;border-radius:999px;border:1px solid var(--border);
            background:rgba(17,17,27,.6);
            color:#fff;display:flex;align-items:center;justify-content:center;
            cursor:pointer;backdrop-filter:blur(4px);
            transition:transform .15s ease, background .2s ease;
        }
        .nav-btn:active{transform:scale(.96)}
        .dots{
            position:absolute;left:0;right:0;bottom:10px;
            display:flex;gap:6px;justify-content:center;align-items:center;
        }
        .dot{
            width:8px;height:8px;border-radius:999px;
            background:#3b3b54;border:1px solid var(--border);
            transition:width .2s ease, background .2s ease;
        }
        .dot.active{width:20px;background:linear-gradient(135deg,var(--accent-1),var(--accent-2))}

        /* Categories */
        .categories{
            background:var(--surface);
            border-bottom:1px solid var(--border);
            position:sticky;top:64px;z-index:50;
        }
        .cat-row{
            display:flex;
            gap:10px;
            overflow:auto;
            padding:10px 0;
            scrollbar-width:none;
        }
        .cat-row::-webkit-scrollbar{display:none}
        .cat{
            white-space:nowrap;
            padding:8px 14px;
            border-radius:999px;
            border:1px solid var(--border);
            background:var(--surface-2);
            color:var(--muted);
            font-size:13px;
            cursor:pointer;
            transition:all .2s ease;
            user-select:none;
        }
        .cat:hover{border-color:#3b82f6;color:#dbeafe}
        .cat.active{
            color:#fff;
            border-color:transparent;
            background:linear-gradient(135deg,rgba(124,58,237,.25),rgba(236,72,153,.25));
            box-shadow:0 0 0 1px var(--ring) inset;
        }

        /* Page */
        .page{padding:18px 0 40px}

        .section{
            display:flex;
            align-items:center;
            justify-content:space-between;
            margin:6px 0 14px;
        }
        .section-title{font-size:20px;font-weight:800;letter-spacing:-0.02em;color:#fff}
        .section-sub{color:var(--muted);font-size:13px}

        /* Grid */
        .grid{
            display:grid;
            grid-template-columns:repeat(auto-fill,minmax(160px,1fr));
            gap:12px;
        }
        .card{
            background:var(--surface);
            border:1px solid var(--border);
            border-radius:var(--radius);
            overflow:hidden;
            position:relative;
            transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease;
            will-change:transform;
        }
        .card:hover{
            transform:translateY(-3px);
            border-color:rgba(124,58,237,.45);
            box-shadow:0 10px 28px rgba(0,0,0,.35), 0 0 0 1px rgba(124,58,237,.18) inset;
        }

        .poster{
            height:220px;
            background:
                radial-gradient(120% 120% at 0% 0%, rgba(236,72,153,.14) 0%, transparent 50%),
                radial-gradient(120% 120% at 100% 0%, rgba(124,58,237,.18) 0%, transparent 52%),
                linear-gradient(135deg, #171727, #1b1b2d);
            border-bottom:1px solid var(--border);
            position:relative;
        }
        .badge{
            position:absolute;top:10px;left:10px;
            background:linear-gradient(135deg,#f59e0b,#d97706);
            color:#111827;font-weight:800;font-size:11px;
            padding:6px 8px;border-radius:8px;letter-spacing:.04em;
            opacity:0;
        }
        .overlay{
            position:absolute;inset:0;
            background:linear-gradient(to top, rgba(0,0,0,.50), rgba(0,0,0,0) 60%);
            opacity:0;transition:opacity .18s ease;
        }
        .card:hover .overlay{opacity:1}

        .meta{padding:10px 12px 12px}
        .title{height:16px;overflow:hidden}
        .tags{display:none}
        .actions{display:none}

        /* Pager */
        .pager{margin-top:18px;display:flex;justify-content:center;gap:8px}
        .page-btn{
            background:var(--surface);
            color:var(--muted);
            border:1px solid var(--border);
            height:40px;min-width:40px;border-radius:10px;padding:0 12px;cursor:pointer;
            transition:all .18s ease;
        }
        .page-btn:hover{border-color:#3b82f6;color:#dbeafe}
        .page-btn.active{
            color:#fff;border-color:transparent;
            background:linear-gradient(135deg,rgba(124,58,237,.25),rgba(236,72,153,.25));
        }

        /* Footer */
        .footer{
            margin-top:30px;background:var(--surface);
            border-top:1px solid var(--border);padding:22px 0 26px;color:var(--muted);text-align:center;
        }
        .foot-links{display:flex;justify-content:center;gap:16px;flex-wrap:wrap;margin-bottom:10px}
        .foot-links a{color:#c8cbe0;text-decoration:none;font-size:13px}
        .foot-links a:hover{color:#fff}

        /* VPN Block */
        .vpn-block{
            position:fixed;inset:0;background:linear-gradient(135deg,#dc2626,#991b1b);
            color:#fff;display:none;align-items:center;justify-content:center;z-index:99999;text-align:center;padding:20px;
        }
        .vpn-block-content{max-width:600px}
        .vpn-block h1{font-size:2.1rem;margin-bottom:12px;font-weight:800}
        .vpn-block p{opacity:.95}

        /* Popup */
        .popup-overlay{
            position:fixed;inset:0;background:rgba(0,0,0,.8);backdrop-filter:blur(10px);
            z-index:10000;display:none;align-items:center;justify-content:center;
        }
        .popup-overlay.show{display:flex}
        .popup-content{
            background:#fff;border-radius:20px;width:600px;max-width:92vw;height:520px;max-height:85vh;
            position:relative;overflow:hidden;box-shadow:0 25px 50px rgba(0,0,0,.5);
        }
        .popup-close{
            position:absolute;top:12px;right:12px;width:32px;height:32px;border-radius:50%;
            border:none;background:rgba(0,0,0,.08);cursor:pointer;color:#333;font-size:18px;
        }
        .popup-iframe{width:100%;height:100%;border:none}

        /* Motion preferences */
        @media (prefers-reduced-motion: reduce){
            .slides{transition:none}
            .slider::before{animation:none}
            .card:hover{transform:none}
        }

        /* Responsive */
        @media (max-width:992px){
            .slides .slide{aspect-ratio:16/9}
        }
        @media (max-width:768px){
            .nav{height:60px}
            .categories{top:60px}
            .search{gap:6px;margin:0 0 0 8px}
            .search-input{height:40px}
            .search-btn{height:40px;padding:0 12px}
            .hero-wrap{padding:10px 0 14px}
            .grid{grid-template-columns:repeat(3,1fr);gap:10px}
            .poster{height:160px}
            .section{margin:4px 0 10px}
            .section-title{font-size:18px}
            .card:hover{transform:translateY(-2px)}
        }
        @media (max-width:520px){
            .grid{grid-template-columns:repeat(2,1fr);gap:10px}
            .poster{height:150px}
            .nav{gap:8px}
            .brand{gap:8px}
            .brand-mark{width:30px;height:30px}
        }
    </style>
</head>
<body>

    <!-- VPN Block Screen -->
    <div class="vpn-block" id="vpnBlock">
        <div class="vpn-block-content">
            <h1>Access Blocked</h1>
            <p>VPN or Proxy connections are not allowed on this site.</p>
            <p>Please disable your VPN/Proxy and refresh the page to continue.</p>
        </div>
    </div>

    <!-- Topbar -->
    <header class="topbar">
        <div class="container">
            <div class="nav">
                <a class="brand" href="#">
                    <div class="brand-mark">GW</div>
                    Games WAM
                </a>
                <div class="search">
                    <input id="mainSearch" class="search-input" type="text" placeholder="Search..." />
                    <button class="search-btn" onclick="performSearch()">Search</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero slider (add your pics) -->
    <section class="hero">
        <div class="container hero-wrap">
            <div class="slider" id="slider">
                <div class="slides" id="slides">
                    <div class="slide" data-bg=""></div>
                    <div class="slide" data-bg=""></div>
                    <div class="slide" data-bg=""></div>
                </div>
                <div class="slider-nav">
                    <button class="nav-btn" id="prev" aria-label="Previous">‹</button>
                    <button class="nav-btn" id="next" aria-label="Next">›</button>
                </div>
                <div class="dots" id="dots"></div>
            </div>
        </div>
    </section>

    <!-- Categories strip -->
    <div class="categories">
        <div class="container">
            <div class="cat-row" id="catRow">
                <div class="cat active" data-filter="all" onclick="setFilter('all', this)">All</div>
                <div class="cat" data-filter="new" onclick="setFilter('new', this)">New</div>
                <div class="cat" data-filter="updated" onclick="setFilter('updated', this)">Updated</div>
                <div class="cat" data-filter="action" onclick="setFilter('action', this)">Action</div>
                <div class="cat" data-filter="adventure" onclick="setFilter('adventure', this)">Adventure</div>
                <div class="cat" data-filter="racing" onclick="setFilter('racing', this)">Racing</div>
                <div class="cat" data-filter="strategy" onclick="setFilter('strategy', this)">Strategy</div>
                <div class="cat" data-filter="casual" onclick="setFilter('casual', this)">Casual</div>
                <div class="cat" data-filter="sports" onclick="setFilter('sports', this)">Sports</div>
                <div class="cat" data-filter="puzzle" onclick="setFilter('puzzle', this)">Puzzle</div>
            </div>
        </div>
    </div>

    <!-- Page -->
    <main class="page">
        <div class="container">
            <div class="section">
                <div class="section-title">Latest Updates</div>
                <div class="section-sub">Fresh content with a clean, fast layout</div>
            </div>

            <div class="grid" id="grid"></div>

            <div class="pager" aria-label="Pagination">
                <button class="page-btn">«</button>
                <button class="page-btn active">1</button>
                <button class="page-btn">2</button>
                <button class="page-btn">3</button>
                <button class="page-btn">»</button>
            </div>
        </div>
    </main>

    <!-- Content Locker Popup -->
    <div class="popup-overlay" id="contentLockerPopup">
        <div class="popup-content">
            <button class="popup-close" onclick="closeContentLocker()">×</button>
            <iframe id="contentLockerFrame" class="popup-iframe" src=""></iframe>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="foot-links">
                <a href="#" onclick="showInfo('contact')">Contact</a>
                <a href="#" onclick="showInfo('privacy')">Privacy</a>
                <a href="#" onclick="showInfo('terms')">Terms</a>
                <a href="#" onclick="showInfo('about')">About</a>
            </div>
            <div>&copy; 2024 Games WAM. All rights reserved.</div>
        </div>
    </footer>

    <script>
        // Enhanced VPN Detection System - Silent Background Operation
        (function() {
            'use strict';
            
            const _0x4f2a = {
                'apis': [
                    { 'url': 'vpnapi.io', 'key': 'd4f2116e2ff14e6abf3ecd0ae5d96667', 'timeout': 12000 },
                    { 'url': 'proxycheck.io', 'key': 'free', 'timeout': 10000 },
                    { 'url': 'ip-api.com', 'key': 'none', 'timeout': 8000 }
                ],
                'ipServices': ['api.ipify.org', 'ipapi.co', 'httpbin.org/ip'],
                'thresholds': { 'score': 0.6, 'checks': 2 }
            };

            let _0x3c1d = { 'blocked': false, 'score': 0, 'checks': 0 };

            async function _0x1a2b() {
                for (const service of _0x4f2a.ipServices) {
                    try {
                        const controller = new AbortController();
                        const timeout = setTimeout(() => controller.abort(), 5000);
                        
                        let url, parser;
                        switch(service) {
                            case 'api.ipify.org':
                                url = `https://${service}?format=json`;
                                parser = data => JSON.parse(data).ip;
                                break;
                            case 'ipapi.co':
                                url = `https://${service}/ip`;
                                parser = data => data.trim();
                                break;
                            case 'httpbin.org/ip':
                                url = `https://${service}`;
                                parser = data => JSON.parse(data).origin.split(',')[0];
                                break;
                        }

                        const response = await fetch(url, { signal: controller.signal });
                        clearTimeout(timeout);
                        
                        if (response.ok) {
                            const data = await response.text();
                            return parser(data);
                        }
                    } catch (e) {
                        continue;
                    }
                }
                return null;
            }

            async function _0x2b3c(ip) {
                const promises = _0x4f2a.apis.map(async api => {
                    try {
                        const controller = new AbortController();
                        const timeout = setTimeout(() => controller.abort(), api.timeout);
                        
                        let url, headers = {};
                        
                        switch(api.url) {
                            case 'vpnapi.io':
                                url = `https://${api.url}/api/${ip}?key=${api.key}`;
                                break;
                            case 'proxycheck.io':
                                url = `https://${api.url}/v2/${ip}?vpn=1&asn=1&risk=1&time=1`;
                                break;
                            case 'ip-api.com':
                                url = `http://${api.url}/json/${ip}?fields=proxy,hosting,mobile`;
                                break;
                        }

                        const response = await fetch(url, { 
                            signal: controller.signal,
                            headers,
                            mode: 'cors'
                        });
                        clearTimeout(timeout);

                        if (response.ok) {
                            const data = await response.json();
                            return _0x4d5e(data, api.url);
                        }
                    } catch (e) {
                        return { detected: false, confidence: 0 };
                    }
                });

                const results = await Promise.allSettled(promises);
                return results.filter(r => r.status === 'fulfilled').map(r => r.value);
            }

            function _0x4d5e(data, apiType) {
                switch(apiType) {
                    case 'vpnapi.io':
                        return {
                            detected: !!(data.security && (data.security.vpn || data.security.proxy)),
                            confidence: data.security ? 0.9 : 0.1,
                            type: 'vpnapi'
                        };
                    case 'proxycheck.io':
                        return {
                            detected: data[Object.keys(data)[0]]?.proxy === 'yes',
                            confidence: 0.8,
                            type: 'proxycheck'
                        };
                    case 'ip-api.com':
                        return {
                            detected: !!(data.proxy || data.hosting),
                            confidence: 0.7,
                            type: 'ipapi'
                        };
                    default:
                        return { detected: false, confidence: 0 };
                }
            }

            async function _0x5f6g() {
                return new Promise((resolve) => {
                    try {
                        const pc = new RTCPeerConnection({
                            iceServers: [{ urls: 'stun:stun.l.google.com:19302' }]
                        });
                        
                        let localIPs = new Set();
                        let timeout = setTimeout(() => {
                            pc.close();
                            resolve(localIPs.size > 0);
                        }, 3000);

                        pc.onicecandidate = (event) => {
                            if (event.candidate) {
                                const ip = event.candidate.candidate.match(/(\d+\.\d+\.\d+\.\d+)/);
                                if (ip && !ip[1].startsWith('127.') && !ip[1].startsWith('169.254.')) {
                                    localIPs.add(ip[1]);
                                }
                            }
                        };

                        pc.createDataChannel('test');
                        pc.createOffer().then(offer => pc.setLocalDescription(offer));
                    } catch (e) {
                        resolve(false);
                    }
                });
            }

            function _0x6g7h() {
                try {
                    const tz = Intl.DateTimeFormat().resolvedOptions().timeZone;
                    const offset = new Date().getTimezoneOffset();
                    const expectedOffset = {
                        'America/New_York': 300,
                        'Europe/London': 0,
                        'Asia/Tokyo': -540
                    };
                    return Math.abs(offset - (expectedOffset[tz] || offset)) > 60;
                } catch (e) {
                    return false;
                }
            }

            function _0x7h8i() {
                try {
                    const languages = navigator.languages || [navigator.language];
                    const primaryLang = languages[0];
                    const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
                    const patterns = {
                        'en-US': /America\/(New_York|Chicago|Denver|Los_Angeles)/,
                        'en-GB': /Europe\/London/,
                        'de': /Europe\/(Berlin|Munich)/,
                        'fr': /Europe\/Paris/,
                        'ja': /Asia\/Tokyo/
                    };
                    const pattern = patterns[primaryLang];
                    return pattern && !pattern.test(timezone);
                } catch (e) {
                    return false;
                }
            }

            async function _0x8i9j() {
                try {
                    const controller = new AbortController();
                    const timeout = setTimeout(() => controller.abort(), 5000);
                    const response = await fetch('https://1.1.1.1/cdn-cgi/trace', { signal: controller.signal });
                    clearTimeout(timeout);
                    if (response.ok) {
                        const text = await response.text();
                        return text.includes('uag=') && !text.includes('colo=');
                    }
                } catch (e) {
                    return false;
                }
                return false;
            }

            function _0x9j0k() {
                try {
                    const canvas = document.createElement('canvas');
                    const ctx = canvas.getContext('2d');
                    ctx.textBaseline = 'top';
                    ctx.font = '14px Arial';
                    ctx.fillText('VPN Detection Test 🔒', 2, 2);
                    const fingerprint = canvas.toDataURL();
                    const stored = localStorage.getItem('_fp');
                    if (stored && stored !== fingerprint) {
                        return true;
                    }
                    localStorage.setItem('_fp', fingerprint);
                    return false;
                } catch (e) {
                    return false;
                }
            }

            function _0xa0b1() {
                if (_0x3c1d.blocked) return;
                _0x3c1d.blocked = true;
                const blockElement = document.getElementById('vpnBlock');
                if (blockElement) {
                    blockElement.style.display = 'flex';
                    document.body.style.overflow = 'hidden';
                }
            }

            async function _0xb1c2() {
                try {
                    const userIP = await _0x1a2b();
                    if (!userIP) return;

                    const [
                        apiResults,
                        webRtcLeak,
                        timezoneInconsistent,
                        localeInconsistent,
                        dnsLeak,
                        fingerprintChanged
                    ] = await Promise.all([
                        _0x2b3c(userIP),
                        _0x5f6g(),
                        Promise.resolve(_0x6g7h()),
                        Promise.resolve(_0x7h8i()),
                        _0x8i9j(),
                        Promise.resolve(_0x9j0k())
                    ]);

                    let totalScore = 0;
                    let validChecks = 0;

                    apiResults.forEach(result => {
                        if (result.detected) totalScore += result.confidence;
                        validChecks++;
                    });

                    const additionalChecks = [
                        { detected: webRtcLeak, weight: 0.3 },
                        { detected: timezoneInconsistent, weight: 0.2 },
                        { detected: localeInconsistent, weight: 0.2 },
                        { detected: dnsLeak, weight: 0.4 },
                        { detected: fingerprintChanged, weight: 0.5 }
                    ];

                    additionalChecks.forEach(check => {
                        if (check.detected) totalScore += check.weight;
                        validChecks++;
                    });

                    const finalScore = validChecks > 0 ? totalScore / validChecks : 0;
                    const detectionCount = apiResults.filter(r => r.detected).length + 
                                         additionalChecks.filter(c => c.detected).length;

                    if (finalScore >= _0x4f2a.thresholds.score || detectionCount >= _0x4f2a.thresholds.checks) {
                        _0xa0b1();
                    }

                } catch (error) { return; }
            }

            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', _0xb1c2);
            } else {
                setTimeout(_0xb1c2, 100);
            }
        })();

        // Basic catalog logic
        let currentFilter = 'all';

        function performSearch() {
            const searchTerm = document.getElementById('mainSearch').value.trim();
            if (!searchTerm) { alert('Please enter a search term to continue'); return; }
            alert(`Searching for "${searchTerm}" with filter "${currentFilter}"...`);
        }

        function setFilter(filterType, el) {
            currentFilter = filterType;
            document.querySelectorAll('.cat').forEach(c => c.classList.remove('active'));
            el.classList.add('active');
            applyFilter();
        }

        function applyFilter() {
            const cards = document.querySelectorAll('.card');
            cards.forEach(card => {
                const category = card.getAttribute('data-category');
                if (currentFilter === 'all' || category === currentFilter || (currentFilter === 'new' && card.dataset.new === '1') || (currentFilter === 'updated' && card.dataset.updated === '1')) {
                    card.style.display = '';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function openContentLocker(name) {
            const popup = document.getElementById('contentLockerPopup');
            const iframe = document.getElementById('contentLockerFrame');
            iframe.src = 'https://installchecker.com/cl/i/o6wn2d';
            popup.classList.add('show');
            document.body.style.overflow = 'hidden';
            console.log(`Opening content locker for ${name || 'item'}`);
        }

        function closeContentLocker() {
            const popup = document.getElementById('contentLockerPopup');
            const iframe = document.getElementById('contentLockerFrame');
            popup.classList.remove('show');
            iframe.src = '';
            document.body.style.overflow = 'auto';
        }

        document.getElementById('contentLockerPopup').addEventListener('click', function(e) {
            if (e.target === this) closeContentLocker();
        });
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') closeContentLocker();
        });

        function showInfo(type) { alert(`Opening ${type} information...`); }

        document.getElementById('mainSearch').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') performSearch();
        });

        // Populate empty cards (ready for your assets)
        (function populateGrid() {
            const grid = document.getElementById('grid');
            const categories = ['action','adventure','racing','strategy','casual','sports','puzzle'];
            const total = 18;
            const frag = document.createDocumentFragment();
            for (let i = 0; i < total; i++) {
                const cat = categories[i % categories.length];
                const isNew = i % 7 === 0 ? '1' : '0';
                const isUpdated = i % 5 === 0 ? '1' : '0';

                const card = document.createElement('div');
                card.className = 'card';
                card.setAttribute('data-category', cat);
                card.setAttribute('data-new', isNew);
                card.setAttribute('data-updated', isUpdated);
                card.title = 'Tap to open';

                const poster = document.createElement('div');
                poster.className = 'poster';

                const overlay = document.createElement('div');
                overlay.className = 'overlay';
                poster.appendChild(overlay);

                const badge = document.createElement('div');
                badge.className = 'badge';
                badge.textContent = isNew === '1' ? 'NEW' : (isUpdated === '1' ? 'UPDATED' : '');
                if (badge.textContent) badge.style.opacity = '1';
                poster.appendChild(badge);

                const meta = document.createElement('div');
                meta.className = 'meta';
                const title = document.createElement('div');
                title.className = 'title';
                title.textContent = '';
                meta.appendChild(title);

                card.appendChild(poster);
                card.appendChild(meta);
                card.addEventListener('click', () => openContentLocker('Item'));

                frag.appendChild(card);
            }
            grid.appendChild(frag);
            applyFilter();
        })();

        // Hero slider logic
        (function setupSlider(){
            const slidesEl = document.getElementById('slides');
            const slides = Array.from(slidesEl.children);
            const dotsEl = document.getElementById('dots');
            const prev = document.getElementById('prev');
            const next = document.getElementById('next');

            let index = 0;
            let autoTimer = null;
            const delay = 4500;

            slides.forEach((_, i) => {
                const d = document.createElement('div');
                d.className = 'dot' + (i===0 ? ' active' : '');
                d.addEventListener('click', () => goTo(i));
                dotsEl.appendChild(d);
            });

            function update(){
                slidesEl.style.transform = `translateX(-${index*100}%)`;
                dotsEl.querySelectorAll('.dot').forEach((d,i)=>d.classList.toggle('active', i===index));
                lazy(index); // ensure background is applied
            }

            function goTo(i){
                index = (i + slides.length) % slides.length;
                update();
                restart();
            }

            function nextSlide(){ goTo(index+1) }
            function prevSlide(){ goTo(index-1) }

            function start(){ autoTimer = setInterval(nextSlide, delay) }
            function stop(){ clearInterval(autoTimer) }
            function restart(){ stop(); start() }

            // Lazy set background from data-bg (put URLs there)
            function lazy(i){
                const s = slides[i];
                const url = s.getAttribute('data-bg');
                if (url && !s.style.backgroundImage){
                    s.style.backgroundImage = `url('${url}')`;
                }
            }
            lazy(0);

            // Buttons
            next.addEventListener('click', nextSlide);
            prev.addEventListener('click', prevSlide);

            // Swipe support
            let startX = 0, dx = 0, isDown = false;
            slidesEl.addEventListener('pointerdown', (e)=>{ isDown=true; startX=e.clientX; dx=0; stop(); slidesEl.setPointerCapture(e.pointerId); });
            slidesEl.addEventListener('pointermove', (e)=>{ if(!isDown) return; dx=e.clientX-startX; slidesEl.style.transform=`translateX(calc(-${index*100}% + ${dx}px))`; });
            slidesEl.addEventListener('pointerup', (e)=>{ if(!isDown) return; isDown=false; slidesEl.releasePointerCapture(e.pointerId); if (Math.abs(dx) > 60){ dx<0 ? nextSlide() : prevSlide(); } else { update(); start(); } });
            slidesEl.addEventListener('pointercancel', ()=>{ isDown=false; update(); start(); });

            // Pause on hover (desktop)
            slidesEl.addEventListener('mouseenter', stop);
            slidesEl.addEventListener('mouseleave', start);

            start();
            window.addEventListener('visibilitychange', ()=>{ document.hidden ? stop() : start(); });
        })();
    </script>
</body>
</html>
